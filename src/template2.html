<template id="semVizBaseTemplate-template">
  <div id="div1"></div>
  <div id="div2"></div>
</template>
<script>
  class SemVizBaseTemplate extends HTMLElement {
    constructor(postal) {
      super();
      this.postal = postal;
    }
    connectedCallback() {
      const shadowRoot = this.attachShadow({
        mode: 'open'
      });
      //const template = document.querySelector('#semviz-base-template').import.querySelector('#semVizBaseTemplate-template');
      const templateCandidates = document.querySelectorAll('link[rel=import]');
      let template = null;
      for (let templateCandidate of templateCandidates) {
        console.log(templateCandidate);
        if (templateCandidate.import != undefined) {
          template = templateCandidate.import.querySelector('#semVizBaseTemplate-template')
          if (template != null) {
            break;
          }
        }
      }
      const instance = template.content.cloneNode(true);
      shadowRoot.appendChild(instance);
    }
  }

  window.customElements.define('semviz-base-template', SemVizBaseTemplate);
</script>
